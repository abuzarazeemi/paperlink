(window.webpackJsonp=window.webpackJsonp||[]).push([[233,52,62],{1287:function(e,t,r){"use strict";r.r(t);r(31),r(36),r(44),r(56),r(27),r(57);var n=r(3),o=r(21),c=(r(20),r(30),r(59),r(185),r(186),r(369),r(641),r(362),r(9),r(115),r(37),r(0)),l=r(117),d=r(141),h=r(657),f=(r(47),r(652));function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=c.default.extend({components:{SpinnerDottedIcon:d.default,MessageAlertWidget:h.default},name:"PackagePaymentTab",data:function(){return{loading:!1,errorMessage:"",cardNumberWithDashes:"",name:"",cvv:"",cardId:void 0,expirationDateWithSlashes:""}},props:{stagingPackageInfo:{type:Object,default:function(){return{}}}},computed:m(m({},Object(l.e)(["setPackage","createPackage"])),{},{packageData:function(){var e=this.setPackage,t=e.name,r=e.paperlink,n=e.teamMembers,o=(e.monthlyPrice,e.id),c=e.isMonthly,l=(e.userId,e.yearlyPrice,e.publicProfile),d=e.companyLedger,h=(e.activationCode,e.cc);return this.createPackage&&1==this.createPackage?{plan:c?"monthly":"yearly",custom:{name:t,paperlink:r,teamMembers:n,publicProfile:l,companyLedger:d,action:"subscribe",cc:h}}:0==this.createPackage?{packageId:o,action:"subscribe",plan:c?"monthly":"yearly"}:void 0},cardNumber:function(){return this.cardNumberWithDashes.replace(/-+/g,"")},expirationDateString:function(){return this.expirationDateWithSlashes.split("/").join("")||""},expYear:function(){return this.expirationDateString.split("").splice(2,4).join("")},expMonth:function(){return this.expirationDateString.split("").splice(0,2).join("")}}),methods:{inputCardNumber:function(e){var t=e.replace(/(-+)|([^0-9]+)/g,"");this.cardNumberWithDashes=(t.match(/.{1,4}/g)||[]).join("-")},inputExpirationDate:function(e){var t=e.replace(/\/+|[^0-9]+/g,"");if(!(t.length>4)){2===t.length&&(Number(t)>12&&(t="0"+t),0==Number(t)&&(t="01")),4==t.length&&0==Number(t.substring(2,4))&&(t=t.substring(0,2)+"01");var r=(t.match(/.{1,2}/g)||[]).join("/");this.expirationDateWithSlashes=r}},updateCard:function(e,data){var t=this;return this.$axios.$patch("/card/".concat(e),data).catch((function(e){var r="";r=e&&e.response&&e.response.data&&e.response.data.message?e.response.data.message:"Server not reachable",t.errorMessage=r,t.loading=!1}))},submit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var o,data,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==e||e.preventDefault(),t.expYear&&t.expMonth&&!isNaN(t.cvv)){r.next=4;break}return t.errorMessage="Please review the inputed information",r.abrupt("return");case 4:if(o=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~0-9]/,t.errorMessage="Name not correct",!o.test(t.name.trim())){r.next=8;break}return r.abrupt("return");case 8:if(!t.loading){r.next=10;break}return r.abrupt("return");case 10:return(t.$auth.user||{id:""}).id,data={card_holder_name:t.name,card_number:t.cardNumber,exp_year:t.expYear,exp_month:t.expMonth,cvv:t.cvv},console.log(data),t.loading=!0,t.errorMessage="",c=!1,r.next=18,t.$axios.$post("/cards",data).then((function(e){console.log(e);var r=e.id;t.cardId=r,c=!0})).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.response,t.errorMessage=Object(f.ErrorHandler)(n),t.loading=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:if(c){r.next=21;break}return t.loading=!1,r.abrupt("return");case 21:t.$axios.$post("/subscriptions",m({},t.packageData)).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$notify.success({title:"Package Subscription",message:"You have successfully subscribed for this package"}),setTimeout((function(){t.$nuxt.$router.push("/dashboard")}),1e3);case 2:case"end":return e.stop()}}),e)})))).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.response,t.errorMessage=Object(f.ErrorHandler)(n),e.next=4,t.$axios.$delete("/cards/".concat(t.cardId));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){t.loading=!1}));case 22:case"end":return r.stop()}}),r)})))()}},mounted:function(){Object.keys(this.stagingPackageInfo).length<1&&this.$nuxt.$router.push("/package?tablevel=1")}}),w=x,y=(r(992),r(1)),component=Object(y.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("form",{on:{submit:e.submit}},[e._m(0),e._v(" "),e.errorMessage?t("message-alert-widget",{staticClass:"mb-7",attrs:{message:e.errorMessage,type:"error"}}):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Name of card holder")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"Name Surname",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Card Number")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"0000-0000-0000-0000",value:e.cardNumberWithDashes,required:""},on:{input:e.inputCardNumber}})],1),e._v(" "),t("div",{staticClass:"grid gap-5 grid-cols-2"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Expiration Date")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"MM/YY",required:"",value:e.expirationDateWithSlashes},on:{input:e.inputExpirationDate}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("CVV")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"000",required:"",type:"password",maxlength:"3"},model:{value:e.cvv,callback:function(t){e.cvv=t},expression:"cvv"}})],1)]),e._v(" "),t("div",{staticClass:"grid place-items-center mt-6"},[t("button",{staticClass:"rounded-lg bg-paperdazgreen-400 text-white shadow text-sm h-10 px-6 disabled:bg-opacity-50",attrs:{disabled:e.loading}},[t("span",{staticClass:"inline-flex items-center gap-3"},[t("span",[e._v("Pay via Stripe")]),e._v(" "),t("transition",{attrs:{name:"fade",duration:100}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"animate-spin"},[t("spinner-dotted-icon",{attrs:{height:"22",width:"22"}})],1)])],1)])])],1)])}),[function(){var e=this._self._c;this._self._setupProxy;return e("div",{staticClass:"grid place-items-center mb-10"},[e("img",{staticClass:"max-w-full max-h-[50px] object-contain",attrs:{src:"/img/payment-types.png",alt:"Payment types",width:"400"}})])}],!1,null,"49e9d953",null);t.default=component.exports},1514:function(e,t,r){var content=r(1605);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("092d5a89",content,!0,{sourceMap:!1})},1604:function(e,t,r){"use strict";r(1514)},1605:function(e,t,r){var n=r(18)((function(i){return i[1]}));n.push([e.i,'.tab-indicator-container[data-v-d2858934]{position:relative;margin-left:auto;margin-right:auto;margin-bottom:5rem;display:flex;width:100%;max-width:600px;align-items:center;justify-content:space-between;--circle-size:60px}.tab-indicator-container.second[data-v-d2858934]:before,.tab-indicator-container.third[data-v-d2858934]:after{background:#77b550}.tab-indicator-container[data-v-d2858934]:before{left:calc(var(--circle-size) + 3px)}.tab-indicator-container[data-v-d2858934]:after,.tab-indicator-container[data-v-d2858934]:before{content:"";position:absolute;height:2px;width:calc(50% - var(--circle-size)*1.5 - 6px);background:#909090}.tab-indicator-container[data-v-d2858934]:after{left:calc(50% + var(--circle-size)/2 + 3px)}.tab-indicator-circle[data-v-d2858934]{position:relative;border-width:2px;--tw-border-opacity:1;border-color:rgb(144 144 144 / var(--tw-border-opacity));font-size:1.5rem;line-height:2rem;--tw-text-opacity:1;color:rgb(144 144 144 / var(--tw-text-opacity))}.tab-indicator-circle.active[data-v-d2858934]{--tw-border-opacity:1;border-color:rgb(119 181 80 / var(--tw-border-opacity));--tw-text-opacity:1;color:rgb(119 181 80 / var(--tw-text-opacity))}.tab-indicator-circle .highlight[data-v-d2858934]{position:absolute;white-space:nowrap;font-size:0.75rem;line-height:1rem;top:calc(100% + 8px)}',""]),n.locals={},e.exports=n},1689:function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r(20),r(641),r(0)),c=r(1533),l=r(1287),d=r(1529),h=r(593),f=r(594),v=r(76),m=(r(93),o.default.extend({components:{UserProfileSolidIcon:v.default,MailIcon:h.default,PaymentCardIcon:f.default},name:"PackagesLandingPage",layout:"landing",auth:!1,data:function(){return{tabLevel:1,stagingPackageInfo:void 0,packages:[],name:void 0}},head:function(){return{script:[{hid:"tawk.to",src:"https://embed.tawk.to/61ee08389bd1f31184d8e4d8/1fq4t07bg",defer:!0},{src:"~/components/script/splide.min.js"}]}},beforeRouteLeave:function(e,t,r){location.href=e.fullPath},mounted:function(){this.tabLevel=Number(this.$route.query.tablevel)},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,n=e.error,t.next=3,r.$get("/packages").then((function(e){return e.data})).catch((function(e){n({statusCode:404,message:e.message||"Unable to fetch the data"})}));case 3:return o=t.sent,t.abrupt("return",{packages:o});case 5:case"end":return t.stop()}}),t)})))()},computed:{currentTabComponent:function(){switch(this.tabLevel){case 1:return this.$nuxt.$router.push("/package?tablevel=1"),d.default;case 2:return this.$nuxt.$router.push("/package?tablevel=2"),c.default;case 3:return this.$nuxt.$router.push("/package?tablevel=3"),l.default;default:return{render:function(e){return e("h1","Unknown tab")}}}}},methods:{nextTab:function(e){1==this.tabLevel&&(this.stagingPackageInfo=e),this.tabLevel++}},watch:{"$route.query.tablevel":function(){this.tabLevel=Number(this.$route.query.tablevel)}}})),x=(r(1604),r(1)),component=Object(x.a)(m,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{},[t("section",{staticClass:"container pt-14 pb-24"},[t("div",{staticClass:"tab-indicator-container",class:{second:e.tabLevel>=2,third:e.tabLevel>=3}},[t("div",{staticClass:"tab-indicator-circle circle circle-30 font-medium",class:{active:e.tabLevel>=1}},[e._v("\n        $\n\n        "),t("span",{staticClass:"highlight"},[e._v("1. Select Package")])]),e._v(" "),t("div",{staticClass:"tab-indicator-circle circle circle-30",class:{active:e.tabLevel>=2}},[t("span",{staticClass:"highlight"},[e._v("2. Basic Info")]),e._v(" "),t("user-profile-solid-icon",{attrs:{height:"20",width:"20"}})],1),e._v(" "),t("div",{staticClass:"tab-indicator-circle circle circle-30",class:{active:e.tabLevel>=3}},[t("span",{staticClass:"highlight"},[e._v("3. Payment")]),e._v(" "),t("payment-card-icon",{attrs:{height:"20",width:"20"}})],1)]),e._v(" "),t("div",[t("keep-alive",[t(e.currentTabComponent,{tag:"component",attrs:{"staging-package-info":e.stagingPackageInfo,packages:e.packages,pagesCustom:"custom-package"},on:{"next-tab":function(t){return e.nextTab(t)}}})],1)],1)])])}),[],!1,null,"d2858934",null);t.default=component.exports},593:function(e,t,r){"use strict";r.r(t);var n=r(0).default.extend({name:"MailIcon"}),o=r(1),component=Object(o.a)(n,(function(){var e=this._self._c;this._self._setupProxy;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:"16",width:"16"}},[e("path",{attrs:{fill:"currentColor",d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}})])}),[],!1,null,null,null);t.default=component.exports},594:function(e,t,r){"use strict";r.r(t);var n=r(0).default.extend({name:"PaymentCardIcon"}),o=r(1),component=Object(o.a)(n,(function(){var e=this._self._c;this._self._setupProxy;return e("svg",{staticClass:"fill-current",attrs:{width:"16",height:"16",viewBox:"0 0 42 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M37.5857 0.333374H4.25236C1.93986 0.333374 0.106527 2.18754 0.106527 4.50004L0.0856934 29.5C0.0856934 31.8125 1.93986 33.6667 4.25236 33.6667H37.5857C39.8982 33.6667 41.7524 31.8125 41.7524 29.5V4.50004C41.7524 2.18754 39.8982 0.333374 37.5857 0.333374ZM37.5857 29.5H4.25236V17H37.5857V29.5ZM37.5857 8.66671H4.25236V4.50004H37.5857V8.66671Z"}})])}),[],!1,null,null,null);t.default=component.exports},787:function(e,t,r){var content=r(993);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("7b10d07f",content,!0,{sourceMap:!1})},992:function(e,t,r){"use strict";r(787)},993:function(e,t,r){var n=r(18)((function(i){return i[1]}));n.push([e.i,"form[data-v-49e9d953]{border-radius:0.75rem;border-width:4px;--tw-border-opacity:1;border-color:rgb(119 181 80 / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.5rem;width:100%;max-width:580px;margin:0 auto;box-shadow:0 4px 4px rgba(0,0,0,.25)}.input-label[data-v-49e9d953]{display:block;font-size:0.875rem;line-height:1.25rem;font-weight:500}.input-label+*[data-v-49e9d953]{margin-top:0.25rem}.form-group[data-v-49e9d953]:not(:last-child){margin-bottom:1.25rem}",""]),n.locals={},e.exports=n}}]);